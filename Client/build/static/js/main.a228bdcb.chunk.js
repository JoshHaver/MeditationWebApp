(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{34:function(e,t,s){},60:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s.n(n),i=s(28),r=s.n(i),o=(s(34),s(8)),a=function(e){return new Date(Number(e)).toDateString()},l=s(0),j=function(e){var t=e.sessions;return Object(l.jsx)("div",{className:"all-sessions",children:t.map((function(e){return Object(l.jsx)("div",{className:"all-sessions",children:Object(l.jsxs)(o.b,{to:"/sessions/".concat(e.SessionID),style:{textDecoration:"none"},children:[Object(l.jsx)("h2",{children:a(e.dateMilliseconds)}),e.sessionLength&&Object(l.jsxs)("p",{children:["Session Length: ",e.sessionLength]}),e.sessionRating&&Object(l.jsxs)("p",{children:["Session Rating: ",e.sessionRating]}),e.sleepLength&&Object(l.jsxs)("p",{children:["Sleep Length: ",e.sleepLength]}),e.moodRating&&Object(l.jsxs)("p",{children:["Mood Rating: ",e.moodRating]})]})},e.SessionID)}))})};function d(){return Object(l.jsx)("div",{className:"loading-screen",children:Object(l.jsx)("h2",{children:"Loading..."})})}var u=s(9),b=function(e){var t=Object(n.useState)(null),s=Object(u.a)(t,2),c=s[0],i=s[1],r=Object(n.useState)(!0),o=Object(u.a)(r,2),a=o[0],l=o[1],j=Object(n.useState)(null),d=Object(u.a)(j,2),b=d[0],h=d[1];return Object(n.useEffect)((function(){var t=new AbortController;return fetch(e,{signal:t.signal}).then((function(e){return e.ok?e.json():(h("Res.ok returned false"),l(!1),Promise.reject(e))})).then((function(e){i(e),l(!1),h(null)})).catch((function(e){"AbortError"===e.name?console.log("Fetch aborted"):(h("Could not find the resource at the provided url"),l(!1))})),function(){return t.abort()}}),[e]),{data:c,isLoading:a,error:b}},h=function(){var e=b("http://localhost:8081/api/v1/sessions"),t=e.data,s=e.isLoading,n=e.error;return Object(l.jsxs)("div",{className:"show-sessions",children:[s&&Object(l.jsx)("div",{className:"loading-screen",children:Object(l.jsx)(d,{})}),n&&Object(l.jsxs)("div",{children:[" ",n," "]}),t&&Object(l.jsx)(j,{sessions:t.Items})]})},O=function(){return Object(l.jsxs)("nav",{className:"navbar",children:[Object(l.jsx)("h1",{children:"Meditation Tracker"}),Object(l.jsxs)("div",{className:"links",children:[Object(l.jsx)(o.b,{to:"/",children:"Home"}),Object(l.jsx)(o.b,{to:"/sessions",children:"All Sessions"}),Object(l.jsx)(o.b,{to:"/create",style:{color:"white",backgroundColor:"#f1356d",borderRadius:"8px"},children:"New Session"})]})]})},x=s(11),p=s.n(x),g=s(14),f=s(2),v=s(13),m=s.n(v),S=function(){var e=Object(g.a)(p.a.mark((function e(t,s,n,c,i,r,o){var a,l,j;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Math.floor(1e10*Math.random()),l=Date.now(),j={},"post"===t?(j.SessionID=a,j.dateMilliseconds=l):(j.SessionID=r,j.dateMilliseconds=o),""!==s&&(j.sessionLength=s),""!==n&&(j.sessionRating=n),""!==c&&(j.sleepLength=c),""!==i&&(j.moodRating=i),console.log(j),e.prev=9,"post"!==t){e.next=15;break}return e.next=13,m.a.post("http://localhost:8081/api/v1/create",j);case 13:e.next=17;break;case 15:return e.next=17,m.a.put("http://localhost:8081/api/v1/sessions/"+r,j);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(9),console.log("Error sending put/post request");case 22:case"end":return e.stop()}}),e,null,[[9,19]])})));return function(t,s,n,c,i,r,o){return e.apply(this,arguments)}}();function L(e){var t=e.session,s=e.editMode,c=Object(n.useState)(""),i=Object(u.a)(c,2),r=i[0],o=i[1],a=Object(n.useState)(""),j=Object(u.a)(a,2),d=j[0],b=j[1],h=Object(n.useState)(""),O=Object(u.a)(h,2),x=O[0],v=O[1],m=Object(n.useState)(""),L=Object(u.a)(m,2),M=L[0],N=L[1],R=Object(f.f)(),k=function(){var e=Object(g.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!s){e.next=6;break}return e.next=4,S("put",r,d,x,M,t.SessionID,t.dateMilliseconds);case 4:e.next=8;break;case 6:return e.next=8,S("post",r,d,x,M);case 8:s?R.push("/sessions"):(o(""),b(""),v(""),N(""));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"create",children:[s&&Object(l.jsx)("h2",{children:"Edit Session"}),!s&&Object(l.jsx)("h2",{children:"Add a New Meditation Session"}),Object(l.jsxs)("form",{onSubmit:k,children:[Object(l.jsx)("label",{children:"Session Length in Minutes"}),Object(l.jsx)("input",{type:"number",required:!0,min:"0",placeholder:"e.g. 10",value:r,onChange:function(e){return o(e.target.value)}}),Object(l.jsx)("label",{children:"Rate Your Session 1-5"}),Object(l.jsx)("input",{type:"number",min:"1",max:"5",placeholder:"e.g. 4",value:d,onChange:function(e){return b(e.target.value)}}),Object(l.jsx)("label",{children:"Hours Slept Last Night"}),Object(l.jsx)("input",{type:"number",min:"0",placeholder:"e.g. 8",value:x,onChange:function(e){return v(e.target.value)}}),Object(l.jsx)("label",{children:"Rate Your Mood 1-5"}),Object(l.jsx)("input",{type:"number",min:"1",max:"5",placeholder:"e.g. 5",value:M,onChange:function(e){return N(e.target.value)}}),s&&Object(l.jsx)("button",{children:"Update Session"}),!s&&Object(l.jsx)("button",{children:"Add Session"})]})]})}function M(){return Object(l.jsx)("div",{children:Object(l.jsx)("h1",{children:"Welcome to my react app"})})}function N(){return Object(l.jsx)("div",{className:"not-found",children:Object(l.jsx)("h2",{children:"Page Not Found"})})}function R(e){var t=e.session,s=Object(f.f)(),c=Object(n.useState)(!1),i=Object(u.a)(c,2),r=i[0],o=i[1];return Object(l.jsxs)("div",{children:[!r&&Object(l.jsxs)("div",{className:"single-session",children:[Object(l.jsx)("h2",{children:a(t.dateMilliseconds)}),t.sessionLength&&Object(l.jsxs)("p",{children:["You Meditated for ",t.sessionLength," Minutes"]}),t.sessionRating&&Object(l.jsxs)("p",{children:["You Rated your session a ",t.sessionRating,"/5"]}),t.sleepLength&&Object(l.jsxs)("p",{children:["You Slept for ",t.sleepLength," Hours the Night Before"]}),t.moodRating&&Object(l.jsxs)("p",{children:["You Rated Your Mood a ",t.moodRating,"/5"]}),Object(l.jsx)("button",{onClick:function(){return o(!0)},children:"Edit"}),Object(l.jsx)("button",{onClick:function(){m.a.delete("http://localhost:8081/api/v1/sessions/"+t.SessionID),s.push("/sessions")},children:"Delete"})]}),r&&Object(l.jsx)(L,{session:t,editMode:!0})]})}function k(){var e=Object(f.g)().id,t=b("http://localhost:8081/api/v1/sessions/"+e),s=t.data,n=t.isLoading,c=t.error;return Object(l.jsxs)("div",{className:"session-details",children:[n&&Object(l.jsx)("div",{children:"Loading..."}),c&&Object(l.jsx)(N,{}),s&&Object(l.jsx)(R,{session:s.Item})]})}var w=function(){return Object(l.jsx)(o.a,{children:Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(O,{}),Object(l.jsx)("div",{className:"Sessions",children:Object(l.jsxs)(f.c,{children:[Object(l.jsx)(f.a,{exact:!0,path:"/",children:Object(l.jsx)(M,{})}),Object(l.jsx)(f.a,{exact:!0,path:"/sessions",children:Object(l.jsx)(h,{})}),Object(l.jsx)(f.a,{exact:!0,path:"/create",children:Object(l.jsx)(L,{editMode:!1})}),Object(l.jsx)(f.a,{exact:!0,path:"/sessions/:id",children:Object(l.jsx)(k,{})})]})})]})})};r.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(w,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.a228bdcb.chunk.js.map